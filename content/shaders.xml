<shaders>
    <shader name="HudHelperEmptyShader">
        <vertex><![CDATA[
            attribute vec3 Position;
            attribute vec4 Color;
            attribute vec2 TexCoord;
            varying vec4 Color0;
            varying vec2 TexCoord0;
            uniform mat4 Transform;
            void main(void) {
                Color0 = Color;
                TexCoord0 = TexCoord;
                gl_Position = Transform * vec4(Position.xyz, 1.0);
            }
        ]]></vertex>
        <fragment><![CDATA[
            varying lowp vec4 Color0;
            varying mediump vec2 TexCoord0;
            uniform sampler2D Texture0;
            void main(void) {
                vec4 Color = Color0 * texture2D(Texture0, TexCoord0);
                gl_FragColor = Color;
            }
        ]]></fragment>
    </shader>
    <shader name="ResouledBlankCanvas">
        <parameters>
            <param name="PointPos" type="vec2"/>
            <param name="AreaSize" type="float"/>
        </parameters>
        <vertex><![CDATA[
            attribute vec3 Position;
            attribute vec4 Color;
            attribute vec2 TexCoord;
            attribute vec4 RenderData;
            attribute float Scale;
            attribute vec2 PointPos;
            attribute float AreaSize;
            vec2 Pos = vec2(Position.xy);
            varying vec4 Color0;
            varying vec2 TexCoord0;
            varying vec4 RenderDataOut;
            varying float ScaleOut;
            varying vec2 PointPosOut;
            varying float AreaSizeOut;
            varying vec2 PosOut;
            uniform mat4 Transform;
            void main(void)
            {
                RenderDataOut = RenderData;
                ScaleOut = Scale;
                Color0 = Color;
                TexCoord0 = TexCoord;
                PointPosOut = PointPos;
                AreaSizeOut = AreaSize;
                PosOut = Pos;
                gl_Position = Transform * vec4(Position.xyz, 1.0);
            }
        ]]></vertex>
        <fragment><![CDATA[
            varying lowp vec4 Color0;
            varying mediump vec2 TexCoord0;
            varying lowp vec4 RenderDataOut;
            varying lowp float ScaleOut;
            varying lowp vec2 PointPosOut;
            varying lowp vec2 PosOut;
            varying lowp float AreaSizeOut;
            uniform sampler2D Texture0;
            void main(void)
            {
                vec2 Pos = PosOut;
                vec4 Color = Color0 * texture2D(Texture0, TexCoord0);

                float Distance = distance(Pos, PointPosOut) - AreaSizeOut;
                if (Distance < 0) {Distance = 0;}
                Distance *= Distance;

                float strength = (AreaSizeOut - Distance)/AreaSizeOut;
                if (strength < 0) {strength = 0;}
                if (strength > 1) {strength = 1;}

                float sum = 0;

                vec4 ColorHelper = Color0 * texture2D(Texture0, TexCoord0);

                ColorHelper.r *= 0.25 + ColorHelper.r;
                ColorHelper.g *= 0.3 + ColorHelper.g;
                ColorHelper.b *= 0.3 + ColorHelper.b;
                ColorHelper.r += 0.22;
                ColorHelper.g += 0.215;
                ColorHelper.b += 0.215;

                float similarityTo1stColor = abs(-ColorHelper.r -ColorHelper.g -ColorHelper.b);
                float similarityTo2ndColor = abs(0.674 - ColorHelper.r + 0.549 - ColorHelper.g + 0.549 - ColorHelper.b);
                float similarityTo3rdColor = abs(0.894 - ColorHelper.r + 0.871 - ColorHelper.g + 0.839 - ColorHelper.b);

                if (similarityTo1stColor < similarityTo2ndColor) {
                    Color.r += (0 - Color.r) * strength;
                    Color.g += (0 - Color.g) * strength;
                    Color.b += (0 - Color.b) * strength;
                } else if (similarityTo2ndColor < similarityTo1stColor && similarityTo2ndColor < similarityTo3rdColor) {
                    Color.r += (0.674 - Color.r) * strength;
                    Color.g += (0.549 - Color.g) * strength;
                    Color.b += (0.549 - Color.b) * strength;
                } else {
                    Color.r += (0.894 - Color.r) * strength;
                    Color.g += (0.871 - Color.g) * strength;
                    Color.b += (0.839 - Color.b) * strength;
                }

                gl_FragColor = Color;
            }
        ]]></fragment>
    </shader>
</shaders>